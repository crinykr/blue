do_fork


프로세스 구조체 할당
(커널 스택 할당 포함)

주소공간 구조체등 각종 포인터 복사
주소공간은 write protection을 걸어놓음
(스택영역도 protection걸어 놓고 재할당 하는가?
아니면 애초에 미리할당하는가?)


fork다음 rsp로 컨텍스트 맞춰놓고 스케쥴러에 추가






do_execve
각종 자료구조 포인터등 초기화
주소공간 파기하고 새로운 주소공간 구성
(실행파일을 mmap하여 매모리에 매핑해 놓음)

